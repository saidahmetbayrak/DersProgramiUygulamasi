@model IEnumerable<IGrouping<string, DersProgramiUygulamasi.Models.DersProgrami>>

<div class="container mt-5">
    <h2>Haftalık Ders Programı</h2>

    <!-- Öğretmenler ve Dersler için Butonlar -->
    <div class="mb-3">
    <a href="@Url.Action("ProgramOlustur", "Home")" class="btn btn-success">Program Oluştur</a>
        <a href="@Url.Action("Index", "Ogretmen")" class="btn btn-info">Öğretmen Listesi</a>
        <a href="@Url.Action("Index", "Ders")" class="btn btn-warning">Ders Listesi</a>
    </div>

    <!-- Haftalık Program Tablosu -->
    <table class="table table-bordered mt-3">
        <thead>
            <tr>
                <th>Çalışma Saatleri</th>
                <th>Pazartesi</th>
                <th>Salı</th>
                <th>Çarşamba</th>
                <th>Perşembe</th>
                <th>Cuma</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var saat in new[] { "08:00 - 08:45", "09:00 - 09:45", "10:00 - 10:45", "11:00 - 11:45", "13:00 - 13:45", "14:00 - 14:45", "15:00 - 15:45" })
            {
                <tr>
                    <td>@saat</td> <!-- Çalışma saatleri sütunu -->
                    
                    <!-- Pazartesi -->
                    <td>
                        @if (Model.FirstOrDefault(m => m.Key == "Pazartesi")?.Any(p => p.DersSaati == saat) ?? false)
                        {
                            var program = Model.FirstOrDefault(m => m.Key == "Pazartesi")?.First(p => p.DersSaati == saat);
                            <div><strong>@program.Ders.Ad</strong></div>
                            <div>@program.Ogretmen.Isim @program.Ogretmen.Soyisim</div>
                        }
                        else
                        {
                            <div>Boş</div>
                        }
                    </td>
                    
                    <!-- Salı -->
                    <td>
                        @if (Model.FirstOrDefault(m => m.Key == "Salı")?.Any(p => p.DersSaati == saat) ?? false)
                        {
                            var program = Model.FirstOrDefault(m => m.Key == "Salı")?.First(p => p.DersSaati == saat);
                            <div><strong>@program.Ders.Ad</strong></div>
                            <div>@program.Ogretmen.Isim @program.Ogretmen.Soyisim</div>
                        }
                        else
                        {
                            <div>Boş</div>
                        }
                    </td>
                    
                    <!-- Çarşamba -->
                    <td>
                        @if (Model.FirstOrDefault(m => m.Key == "Çarşamba")?.Any(p => p.DersSaati == saat) ?? false)
                        {
                            var program = Model.FirstOrDefault(m => m.Key == "Çarşamba")?.First(p => p.DersSaati == saat);
                            <div><strong>@program.Ders.Ad</strong></div>
                            <div>@program.Ogretmen.Isim @program.Ogretmen.Soyisim</div>
                        }
                        else
                        {
                            <div>Boş</div>
                        }
                    </td>
                    
                    <!-- Perşembe -->
                    <td>
                        @if (Model.FirstOrDefault(m => m.Key == "Perşembe")?.Any(p => p.DersSaati == saat) ?? false)
                        {
                            var program = Model.FirstOrDefault(m => m.Key == "Perşembe")?.First(p => p.DersSaati == saat);
                            <div><strong>@program.Ders.Ad</strong></div>
                            <div>@program.Ogretmen.Isim @program.Ogretmen.Soyisim</div>
                        }
                        else
                        {
                            <div>Boş</div>
                        }
                    </td>
                    
                    <!-- Cuma -->
                    <td>
                        @if (Model.FirstOrDefault(m => m.Key == "Cuma")?.Any(p => p.DersSaati == saat) ?? false)
                        {
                            var program = Model.FirstOrDefault(m => m.Key == "Cuma")?.First(p => p.DersSaati == saat);
                            <div><strong>@program.Ders.Ad</strong></div>
                            <div>@program.Ogretmen.Isim @program.Ogretmen.Soyisim</div>
                        }
                        else
                        {
                            <div>Boş</div>
                        }
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>